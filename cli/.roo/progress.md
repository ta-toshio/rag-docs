# é€²æ—çŠ¶æ³

### **ğŸ“Œ ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ 1: CLI (`translate-docs`) ã®åŸºæœ¬æ©Ÿèƒ½å®Ÿè£…ï¼ˆè©³ç´°ã‚¿ã‚¹ã‚¯åˆ†å‰² + ã‚«ãƒ†ã‚´ãƒª + é€²æ—ç®¡ç† + ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ç•ªå·ï¼‰**

| **#** | **ã‚«ãƒ†ã‚´ãƒª**          | **ã‚¿ã‚¹ã‚¯** | **è©³ç´°** | **å®Ÿè£…å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«** | **ä»•æ§˜æ›¸** | **ä½¿ç”¨ã—ãŸãƒ¢ãƒ‡ãƒ«** | **é€²æ—** |
|----|------------------|------------------------------------------|---------------------------|----------------|----------------|----------------|------|
| 1  | **CLI ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ** | **CLI ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…** | `translate-docs` ã® CLI ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆ | `cli.ts` |  |  | âœ… |
| 2  |                   | **ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã®ãƒ‘ãƒ¼ã‚¹** | `--url` / `--input` ãªã©ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‡¦ç† | `cli.ts` |  |  | âœ… |
| 3  | **Webãƒšãƒ¼ã‚¸ã®è§£æ**  | æŒ‡å®šã—ãŸ URL ã‹ã‚‰ HTML ã‚’å–å¾—ã™ã‚‹ | | `src/crawler/crawler.ts` `src/crawler/htmlUtils.ts` `src/crawler/linkProcessor.ts` `src/crawler/urlUtils.ts` | `sitemapGenerator.md` |  | âœ… |
| 4  |                   | `fetch` ãƒ•ãƒ©ã‚°ã‚’è€ƒæ…®ã—ã¦å–å¾—å¯¾è±¡ã‚’åˆ¤å®šã™ã‚‹ | | `crawler.ts` | `sitemapGenerator.md` |  | âœ… |
| 5  |                   | **ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã‚’ä½œæˆã™ã‚‹ï¼ˆæ–°è¦ï¼‰** | | `fileWriter.ts` | `sitemapGenerator.md` |  | âœ… |
| 6  |                   | - **ãƒšãƒ¼ã‚¸å†…ã®ãƒªãƒ³ã‚¯ã‚’æŠ½å‡º** | | `src/crawler/crawler.ts` | `sitemapGenerator.md` |  | âœ… |
| 7  |                   | - **ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ã‚’ JSON ã«ä¿å­˜** | | `src/fileWriter.ts` | `sitemapGenerator.md` |  | âœ… |
| 8  |                   | - **æ¢ç´¢æ·±åº¦ (`--depth`) ã‚’é©ç”¨** | | `crawler.ts` | `depth.md` |  | âœ… |
| 9  |                   | - **åŒä¸€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã¿ã‚’å¯¾è±¡ã«ã™ã‚‹** | | `src/crawler/crawler.ts` | `sitemapGenerator.md` |  | âœ… |
| 10 |                   | - **è¨±å¯ãƒ‰ãƒ¡ã‚¤ãƒ³ (`--allow-domains`) ã‚’è€ƒæ…®** | | `src/crawler/crawler.ts` | `sitemapGenerator.md` |  | âœ… |
| 11 |                   | - **ã‚µã‚¤ãƒˆãƒãƒƒãƒ—å†…ã§ã®å‡ºç¾é †ã‚’è¨˜éŒ²ã™ã‚‹** | | `src/sorter.ts` | `sitemapGenerator.md` |  | âœ… |
| 12 |                   | - **URL ã‚’çµ¶å¯¾ãƒ‘ã‚¹ã«çµ±ä¸€ã™ã‚‹** | | `src/crawler/crawler.ts` | `sitemapGenerator.md` |  | âœ… |
| 13 |                   | - **ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã®ä¸¦ã³é †ã‚’èª¿æ•´ã™ã‚‹** | | `src/sorter.ts` | `sitemapGenerator.md` |  | âœ… |
| 14 |                   | - **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå˜ä½ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–** | | `sorter.ts` | `sitemapGenerator.md` |  | âœ… |
| 15 |                   | - **ã‚°ãƒ«ãƒ¼ãƒ—å†…ã®é †ç•ªã¯å–å¾—é †ã‚’ç¶­æŒã™ã‚‹** | | `sorter.ts` | `sitemapGenerator.md` |  | âœ… |
| 16 |                   | - **ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã® JSON å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’çµ±ä¸€** | | `src/fileWriter.ts` | `sitemapGenerator.md` |  | âœ… |
| 17 | **HTML ã®å–å¾—**    | `fetch: true` ã®ãƒšãƒ¼ã‚¸ã® HTML ã‚’å–å¾—ã™ã‚‹ | | `src/crawler/crawler.ts` | `sitemapGenerator.md` |  | âœ… |
| 18 |                   | å–å¾—ã—ãŸ HTML ã‚’ `output/sample.com/html/` ã«ä¿å­˜ | | `src/fileWriter.ts` | `sitemapGenerator.md` |  | âœ… |
| 19 |                   | **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ´»ç”¨ã—ã¦ä¸è¦ãªå–å¾—ã‚’é˜²ã**ï¼ˆæ–°è¦ï¼‰ | | `src/crawler/crawler.ts` | `sitemapGenerator.md` |  | âœ… |
| 20 |                   | - **HTML ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆã¯å–å¾—ã—ãªã„** | | `src/crawler/crawler.ts` | `sitemapGenerator.md` |  | âœ… |
| 21 |                   | - **`--force-fetch` ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ™‚ã¯å†å–å¾—** | | `src/crawler/crawler.ts` | `sitemapGenerator.md` |  | âœ… |

### **ğŸ“Œ ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ 1.5: HTML ã‚’ Markdown ã«å¤‰æ›ã—ã€ç¿»è¨³ãƒ»è¦ç´„ã‚’å®Ÿæ–½ï¼ˆæ›´æ–°å¾Œï¼‰**

| **#** | **ã‚«ãƒ†ã‚´ãƒª**            | **ã‚¿ã‚¹ã‚¯** | **è©³ç´°** | **å®Ÿè£…å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«** | **ä»•æ§˜æ›¸** | **ä½¿ç”¨ã—ãŸãƒ¢ãƒ‡ãƒ«** | **é€²æ—** |
|----|------------------|------------------------------------------|---------------------------|----------------|----------------|----------------|------|
| 1  | **HTML è§£æ**    | **ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸ HTML ã‚’èª­ã¿è¾¼ã‚€** | `output/sample.com/html/` å†…ã® HTML ã‚’èª­ã¿è¾¼ã‚€ | `src/parser/parser.ts` | `toMarkdown.md` |  | âœ… |
| 2  |                  | **HTML ã‚’ DOM ã«ãƒ‘ãƒ¼ã‚¹ã™ã‚‹** | `cheerio` ãªã©ã‚’ä½¿ç”¨ã—ã¦ DOM ãƒ„ãƒªãƒ¼ã‚’è§£æ | `src/parser/parser.ts` | `toMarkdown.md` |  | âœ… |
| 3  |                  | **ä¸è¦ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ»ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é™¤å¤–** | `script` / `style` ã‚¿ã‚°ã‚’å‰Šé™¤ | `src/parser/parser.ts` | `toMarkdown.md` |  | âœ… |
| 4  |                  | **æœ¬æ–‡ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡ºã™ã‚‹** | `main`, `article`, `p`, `h1~h6` ãªã©ã®è¦ç´ ã‚’å¯¾è±¡ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾— |  | |  | âŒ (å¯¾å¿œã—ãªã„) |
| 5  | **Markdown å¤‰æ›** | **HTML ã‚’ Markdown ã«å¤‰æ›** | `turndown` ãªã©ã‚’åˆ©ç”¨ã—ã¦ Markdown ã«å¤‰æ› | `src/parser/markdownFormatter.ts` | `toMarkdown.md` |  | âœ… |
| 6  |                  | **ãƒªã‚¹ãƒˆãƒ»è¡¨ãƒ»ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’é©åˆ‡ã«å‡¦ç†** | `ul`, `ol`, `table`, `pre` ãªã©ã‚’ Markdown ã®æ›¸å¼ã«å¤‰æ› | `src/parser/markdownFormatter.ts` | `toMarkdown.md` |  | âœ… |
| 7  |                  | **Markdown ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’çµ±ä¸€** | ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãƒ»æ”¹è¡Œã®ãƒ«ãƒ¼ãƒ«ã‚’çµ±ä¸€ã™ã‚‹ | `src/parser/markdownFormatter.ts` | `markdownFormatter.md` |  | âœ… |
| 8  | **ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›**  | **Markdown ã‚’ `output/sample.com/markdown/` ã«ä¿å­˜** | | `src/fileWriter.ts` |  |  | âœ… |
| 9  | **ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒ»ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½** | **Google Gemini API ã®ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆåˆ¶å¾¡ã‚’å®Ÿè£…** | **Bottleneck ã‚’åˆ©ç”¨ã—ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“éš”ã‚’ç®¡ç†** | `src/utils/rateLimiter.ts` | `rateLimit.md` |  | âœ… |
| 10 |                   | **ç¿»è¨³ APIãƒ»è¦ç´„ API ã®ãƒªãƒˆãƒ©ã‚¤å‡¦ç†ã‚’å®Ÿè£…** | **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° & ãƒãƒƒã‚¯ã‚ªãƒ•åˆ¶å¾¡ã‚’çµ„ã¿è¾¼ã‚€** | `src/utils/apiRetry.ts` |  |  | âœ… |
| 11 | **ç¿»è¨³å‡¦ç†**      | **Markdown ã‚’ç¿»è¨³å¯¾è±¡ã¨ã—ã¦èª­ã¿è¾¼ã‚€** | | `src/translator.ts` |  |  | âœ… |
| 12 |                  | **Google Gemini API ã‚’ä½¿ç”¨ã—ã¦ç¿»è¨³ã‚’å®Ÿæ–½** | | `src/translator.ts` |  |  | â³ |
| 13 |                  | **ç¿»è¨³çµæœã‚’ `output/sample.com/translation/` ã«ä¿å­˜** | | `src/fileWriter.ts` |  |  | â³ |
| 14 | **è¦ç´„å‡¦ç†**      | **Markdown ã‚’è¦ç´„å¯¾è±¡ã¨ã—ã¦èª­ã¿è¾¼ã‚€** | | `src/summarizer.ts` |  |  | â³ |
| 15 |                  | **Google Gemini API ã‚’ä½¿ç”¨ã—ã¦è¦ç´„ã‚’å®Ÿæ–½** | | `src/summarizer.ts` |  |  | â³ |
| 16 |                  | **è¦ç´„çµæœã‚’ `output/sample.com/summary/` ã«ä¿å­˜** | | `src/fileWriter.ts` |  |  | â³ |
| 17 | **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°** | **HTML ã®ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†** | | `src/parser/parser.ts` |  |  | â³ |
| 18 |                  | **ç¿»è¨³ API ã®ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†** | | `src/translator.ts` |  |  | â³ |
| 19 |                  | **è¦ç´„ API ã®ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†** | | `src/summarizer.ts` |  |  | â³ |
| 20 | **ãƒ­ã‚°å‡ºåŠ›**      | **å‡¦ç†çµæœã®ãƒ­ã‚°ã‚’ `logs/` ã«å‡ºåŠ›** | | `src/logger.ts` |  |  | â³ |

---